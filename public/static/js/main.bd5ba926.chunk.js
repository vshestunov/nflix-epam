(this.webpackJsonpnetflix=this.webpackJsonpnetflix||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var c=n(7),s=n.n(c),i=n(58),a=n.n(i),r=(n(66),n(0)),o=n.n(r),l=n(15),j=n(1),u=n(11),d=(n(68),n(14)),b=(n(69),n(13)),h=n(40),O=n.n(h),f=n(3),m=function(e){var t=[O.a.myModal];return e.visible&&t.push(O.a.active),Object(f.jsx)("div",{className:t.join(" "),onClick:function(){return e.setVisible(!1)},children:Object(f.jsx)("div",{className:O.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:e.children})})},x=function(e){return Object(f.jsxs)("div",{className:"modal-cont",children:[Object(f.jsxs)(m,{visible:e.visible,setVisible:e.setVisible,children:[Object(f.jsx)("h3",{children:"You are not logged in. Please get to login page to get all App functions."}),Object(f.jsx)(b.b,{to:"/login",children:Object(f.jsx)("button",{className:"button modal-button",children:" LOGIN "})})]}),Object(f.jsx)("h3",{children:"You are not logged in. Please get to login page to get all App functions."}),Object(f.jsx)(b.b,{to:"/login",children:Object(f.jsx)("button",{className:"button modal-button",children:" LOGIN "})})]})},p=n(12),g=n(19),v=n(28),w=function(e){var t=Object(g.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(g.useState)(""),a=Object(u.a)(i,2),r=a[0],l=a[1],d=Object(p.f)(),h=Object(v.b)();Object(g.useEffect)((function(){Object(v.c)(h,(function(e){try{l(e.email),Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(d,"users"));case 2:t.sent.forEach((function(t){if(t.id===e.email){var n=[];t.data().friends.forEach((function(e){return n.push(e)})),s([].concat(n))}}));case 4:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[h,d]);return e.isLogin?c.length?Object(f.jsx)("div",{className:"friends",children:c.map((function(e){return Object(f.jsxs)("div",{className:"friend",children:[Object(f.jsxs)("h4",{children:["Name: ",e.name]}),Object(f.jsx)("img",{src:e.photo}),Object(f.jsxs)("p",{children:["Email: ",e.email]}),Object(f.jsx)("div",{className:"friend-button-cont",children:Object(f.jsx)("button",{className:"button",onClick:function(){return function(e){var t=Object(p.d)(d,"users",r);try{Object(j.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(t,{friends:Object(p.a)(e)});case 2:case"end":return n.stop()}}),n)})))(),s(c.filter((function(t){return t.name!==e.name})))}catch(n){console.log(n)}}(e)},children:"Remove from friends"})})]},e.id)}))}):Object(f.jsxs)("div",{className:"friends-empty",children:[Object(f.jsx)("h2",{children:"No friend to show. Please visit the PEOPLE page to see all shows:"}),Object(f.jsx)(b.b,{to:"/people",children:Object(f.jsx)("button",{className:"button",children:"PEOPLE"})})]}):Object(f.jsx)(x,{visible:e.isModalVisible,setVisible:e.setModalVisible})},N=(n(78),n(20)),k=function(e){var t=Object(g.useState)(""),n=Object(u.a)(t,2),s=n[0],i=n[1],a=Object(p.f)(),r=Object(N.b)(),d=Object(g.useState)([]),b=Object(u.a)(d,2),h=b[0],O=b[1];if(Object(c.useEffect)((function(){Object(N.c)(r,(function(e){try{i(e.email),Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(a,"users"));case 2:t.sent.forEach((function(t){if(t.id===e.email){var n=[];t.data().friends.forEach((function(e){return n.push(e.name)})),O([].concat(n))}}));case 4:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[r,a]),!e.isLogin)return Object(f.jsx)(x,{visible:e.isModalVisible,setVisible:e.setModalVisible});return Object(f.jsx)("div",{className:"people",children:e.peopleList.map((function(e){return Object(f.jsxs)("div",{className:"man",children:[Object(f.jsxs)("h4",{children:["Name: ",e.name]}),Object(f.jsx)("img",{src:e.photo}),Object(f.jsxs)("p",{children:["Email: ",e.email]}),Object(f.jsx)("div",{className:"people-button-cont",children:h.includes(e.name)?Object(f.jsx)("button",{className:"button",onClick:function(){return function(e){var t=Object(p.d)(a,"users",s);try{Object(j.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(t,{friends:Object(p.a)(e)});case 2:case"end":return n.stop()}}),n)})))(),O(h.filter((function(t){return t!==e.name})))}catch(n){console.log(n)}}(e)},children:"Remove from friends"}):Object(f.jsx)("button",{className:"button",onClick:function(){return function(e){var t=Object(p.d)(a,"users",s);try{Object(j.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(t,{friends:Object(p.b)(e)});case 2:case"end":return n.stop()}}),n)})))(),O([].concat(Object(l.a)(h),[e.name]))}catch(n){console.log(n)}}(e)},children:"Add to Friends"})})]},e.id)}))})},S=(n(79),function(e){var t=Object(g.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(g.useState)(""),a=Object(u.a)(i,2),r=a[0],l=a[1],d=Object(p.f)(),h=Object(v.b)();if(Object(g.useEffect)((function(){Object(v.c)(h,(function(e){try{l(e.email),Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(d,"users"));case 2:t.sent.forEach((function(t){if(t.id===e.email){var n=[];t.data().favorites.forEach((function(e){return n.push(e)})),s([].concat(n))}}));case 4:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[h,d]),!e.isLogin)return Object(f.jsx)(x,{visible:e.isModalVisible,setVisible:e.setModalVisible});return c.length?Object(f.jsx)("div",{className:"favorites",children:c.map((function(e){return Object(f.jsxs)("div",{className:"favShow",children:[Object(f.jsxs)(b.b,{to:"shows/".concat(e.id),children:[Object(f.jsx)("h4",{children:e.name}),Object(f.jsx)("img",{src:e.image.medium}),Object(f.jsxs)("div",{className:"fav-show-description-cont",children:[Object(f.jsxs)("p",{children:["Time: ",e.averageRuntime]}),Object(f.jsxs)("p",{children:["Genres: ",e.genres.join(", ")]}),Object(f.jsxs)("p",{children:["Rating: ",e.rating.average]}),Object(f.jsxs)("p",{children:["Likes: ",e.likes]})]})]}),Object(f.jsx)("div",{className:"fav-button-cont",children:Object(f.jsx)("button",{className:"button",onClick:function(){return function(e){var t=Object(p.d)(d,"users",r);try{Object(j.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(t,{favorites:Object(p.a)(e)});case 2:case"end":return n.stop()}}),n)})))(),s(c.filter((function(t){return t.name!==e.name})))}catch(n){console.log(n)}}(e)},children:"Remove from favorites"})})]},e.id)}))}):Object(f.jsxs)("div",{className:"favorites-empty",children:[Object(f.jsx)("h2",{children:"No favorite shows yet. Please visit the SHOWS page to see all shows:"}),Object(f.jsx)(b.b,{to:"/shows",children:Object(f.jsx)("button",{className:"button",onClick:e.setModalVisible(!1),children:"SHOWS"})})]})}),y=(n(80),n(81),function(){return Object(f.jsx)("div",{className:"lds-dual-ring"})}),L=function(e){var t=Object(N.b)(),n=Object(d.e)(),c=Object(g.useState)(""),s=Object(u.a)(c,2),i=s[0],a=s[1],r=Object(g.useState)(""),o=Object(u.a)(r,2),l=o[0],j=o[1],h=Object(g.useState)(""),O=Object(u.a)(h,2),m=O[0],x=O[1];return Object(N.c)(t,(function(e){e&&(a(e.displayName),j(e.email),x(e.photoURL))})),e.isLoading?Object(f.jsx)(y,{}):(e.isLogin||n.push("/login"),Object(f.jsxs)("div",{className:"profile",children:[Object(f.jsx)("div",{className:"photo-cont",children:Object(f.jsx)("img",{src:m,alt:"photo"})}),Object(f.jsxs)("div",{className:"info-cont",children:[Object(f.jsxs)("h2",{children:["User Name: ",i]}),Object(f.jsxs)("p",{children:["e-mail: ",l]}),Object(f.jsx)(b.b,{to:"/login",children:Object(f.jsx)("button",{className:"button",onClick:function(){return e.setIsLogin(!1)},children:"LOGOUT"})})]})]}))},M=(n(82),function(e){return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsxs)("div",{className:"headers-cont",children:[Object(f.jsx)("h1",{children:"Welcome to my like-a-netflix service"}),Object(f.jsxs)("h2",{children:["Feel free to use the navigation bar at the header and go throw the App ;)"," "]}),Object(f.jsx)("h3",{children:"My service has such features:"})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/shows",children:"SHOWS"})," page"]}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"Uploads the shows from API"}),Object(f.jsx)("li",{children:"You can SORT, FILTER and SEARCH shows"}),Object(f.jsx)("li",{children:"You can LIKE shows from different accounts and see result from any account"}),Object(f.jsx)("li",{children:"You can add/remove shows to FAVORITES"}),Object(f.jsx)("li",{children:"You can share shows with your FRIENDS"})]})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/favorites",children:"FAVORITES"})," page"]}),Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:"Look at your favorite shows and remove them from this list"})})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/friends",children:"FRIENDS"})," page"]}),Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:"Look at your friends and remove them from this list"})})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/friends",children:"FRIENDS"})," page"]}),Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:"Look at your friends and remove them from this list"})})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/recommendations",children:"RECOMMENDATIONS"})," ","page"]}),Object(f.jsx)("ul",{children:Object(f.jsx)("li",{children:"Look at shows which other users (for whom you are a friend) recommended to you"})})]}),Object(f.jsxs)("div",{className:"features-cont",children:[Object(f.jsxs)("h4",{children:["On ",Object(f.jsx)(b.b,{to:"/profile",children:"PROFILE"})," and"," ",Object(f.jsx)(b.b,{to:"/login",children:"LOGIN"})," pages"," "]}),Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:"You can register a new account"}),Object(f.jsx)("li",{children:"You can login/logout to your existing account"})]})]})]})}),V=(n(49),function(e){return Object(f.jsxs)("select",{value:e.method,onChange:function(t){return e.action(t.target.value)},children:[Object(f.jsx)("option",{value:"",children:e.default}),e.options.map((function(e){return Object(f.jsxs)("option",{value:e.value,children:[" ",e.name," "]},e.value)}))]})}),E=n(41),C=n.n(E),I=function(e){var t=[C.a.myModal];return e.visible&&t.push(C.a.active),Object(f.jsx)("div",{className:t.join(" "),onClick:function(){return e.setVisible(!1)},children:Object(f.jsx)("div",{className:C.a.myModalContent,onClick:function(e){return e.stopPropagation()},children:e.children})})},R=(n(83),function(e){return Object(f.jsx)("div",{className:"modal-cont",children:Object(f.jsx)(I,{visible:e.visible,setVisible:e.setVisible,children:e.friends.length?Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Please choose a friend to send your recommendation:"}),Object(f.jsx)("div",{className:"modal-friends",children:e.friends.map((function(t){return Object(f.jsxs)("div",{className:"modal-friend",children:[Object(f.jsx)("img",{className:"rec-modal-photo",src:t.photo,alt:"photo"}),Object(f.jsx)("p",{children:t.name}),Object(f.jsx)("button",{className:"button rec-modal-button",onClick:function(){return e.sendRecommend(t)},children:"Send Reccomend"})]})}))})]}):Object(f.jsx)("h2",{children:"You don't have friends yet :( "})})})}),F=function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)([]),r=Object(u.a)(a,2),d=r[0],h=r[1],O=Object(p.f)(),x=Object(N.b)(),g=Object(c.useState)([]),v=Object(u.a)(g,2),w=v[0],k=v[1],S=Object(c.useState)(!1),L=Object(u.a)(S,2),M=L[0],E=L[1],C=Object(c.useState)(""),I=Object(u.a)(C,2),F=I[0],P=I[1];Object(c.useEffect)((function(){Object(N.c)(x,(function(e){i(e.email);try{Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(O,"users"));case 2:t.sent.forEach((function(t){if(t.id===e.email){var n=[],c=[];t.data().favorites.forEach((function(e){return n.push(e.name)})),t.data().friends.forEach((function(e){return c.push(e)})),k([].concat(n)),h([].concat(c))}}));case 4:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[x,O]);var A=[];e.shows.map((function(e){e.genres.map((function(e){A.push(e)}))}));var _=Object(l.a)(new Set(A)),T=[];_.map((function(e){T.push({value:e,name:e})}));return e.isLoading?Object(f.jsx)(y,{}):Object(f.jsxs)("div",{className:"shows",children:[Object(f.jsxs)(m,{visible:e.isModalVisible,setVisible:e.setModalVisible,children:[Object(f.jsx)("h3",{children:"You are not logged in. Please get to login page to get all App functions."}),Object(f.jsx)(b.b,{to:"/login",children:Object(f.jsx)("button",{className:"button modal-button",children:" LOGIN "})})]}),Object(f.jsx)(R,{visible:M,setVisible:E,friends:d,sendRecommend:function(e){var t=Object(p.d)(O,"users",e.email);try{Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(F),e.next=3,Object(p.i)(t,{recs:Object(p.b)(F)});case 3:case"end":return e.stop()}}),e)})))(),E(!1)}catch(n){console.log(n)}}}),Object(f.jsx)("div",{className:"shows-cont",children:e.shows.map((function(t){return Object(f.jsxs)("div",{className:"show",children:[Object(f.jsxs)(b.b,{to:"shows/".concat(t.id),children:[Object(f.jsx)("h4",{children:t.name}),Object(f.jsx)("img",{src:t.image.medium}),Object(f.jsxs)("div",{className:"show-description-cont",children:[Object(f.jsxs)("p",{children:["Time: ",t.averageRuntime]}),Object(f.jsxs)("p",{children:["Genres: ",t.genres.join(", ")]}),Object(f.jsxs)("p",{children:["Rating: ",t.rating.average]}),Object(f.jsxs)("p",{children:["Likes: ",t.likes]})]})]}),Object(f.jsxs)("div",{className:"shows-buttons",children:[e.likedShows.includes(t.name)?Object(f.jsx)("button",{className:"button shows-button",onClick:function(){!function(t){var n=Object(p.d)(O,"likedshows",t.name);try{Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)(n,{emails:Object(p.a)(s),likes:Object(p.g)(-1)});case 2:case"end":return e.stop()}}),e)})))(),e.setLikedShows(e.likedShows.filter((function(e){return e!==t.name})))}catch(c){console.log(c)}}(t),t.likes--},children:"Disike \u2665"}):Object(f.jsx)("button",{className:"button shows-button",onClick:function(){!function(t){if(!e.isLogin)return e.setModalVisible(!0),null;var n=Object(p.d)(O,"likedshows",t.name);try{Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)(n,{emails:Object(p.b)(s),likes:Object(p.g)(1)});case 2:case"end":return e.stop()}}),e)})))(),e.setLikedShows([].concat(Object(l.a)(e.likedShows),[t.name]))}catch(c){console.log(c)}}(t),t.likes++},children:"Like \u2661"}),w.includes(t.name)?Object(f.jsx)("button",{className:"button shows-button",onClick:function(){return function(e){var t=Object(p.d)(O,"users",s);try{Object(j.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(t,{favorites:Object(p.a)(e)});case 2:case"end":return n.stop()}}),n)})))(),k(w.filter((function(t){return t!==e.name})))}catch(n){console.log(n)}}(t)},children:"Remove from favorites"}):Object(f.jsx)("button",{className:"button shows-button",onClick:function(){return function(t){if(!e.isLogin)return e.setModalVisible(!0),null;var n=Object(p.d)(O,"users",s);try{Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.i)(n,{favorites:Object(p.b)(t)});case 2:case"end":return e.stop()}}),e)})))(),k([].concat(Object(l.a)(w),[t.name]))}catch(c){console.log(c)}}(t)},children:"Add to favorites"}),Object(f.jsx)("button",{className:"button shows-button",onClick:function(){return function(e){P({name:e.name,averageRuntime:e.averageRuntime,image:e.image,email:s,rating:e.rating,genres:e.genres,id:e.id}),E(!0)}(t)},children:"Reccomend to friend"})]})]},t.id)}))}),Object(f.jsx)("div",{className:"filters-cont",children:Object(f.jsxs)("div",{className:"filters-fixed-cont",children:[Object(f.jsx)("h5",{children:"Searh by name"}),Object(f.jsx)("input",{type:"text",placeholder:"name",value:e.searchQuery,onChange:function(t){return e.setSearchQuery(t.target.value)}}),Object(f.jsx)("h5",{children:"Filter by genres:"}),Object(f.jsx)(V,{options:T,default:"All genres",action:e.setSelectedFilter,method:e.selectedFilter}),Object(f.jsx)("h5",{children:"Sort shows:"}),Object(f.jsx)(V,{options:[{value:"time, from-top",name:"By time from top"},{value:"time, from-down",name:"By time from down"},{value:"rating, from-top",name:"By rating from top"},{value:"rating, from-down",name:"By rating from down"}],default:"Sort by time or rating",action:e.setSortMethod,method:e.sortMethod})]})})]})},P=(n(84),n(38)),A=n.n(P),_=function(e){var t=Object(d.f)(),n=Object(c.useState)({}),s=Object(u.a)(n,2),i=s[0],a=s[1];function r(){return r=Object(j.a)(o.a.mark((function e(n){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=4;break}return e.abrupt("return",n);case 4:return console.log(n.id),e.next=7,A.a.get("https://api.tvmaze.com/shows/".concat(t.id));case 7:c=e.sent,a(c.data);case 9:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}return function(e){r.apply(this,arguments)}(i),i.id?Object(f.jsxs)("div",{className:"show-page",children:[Object(f.jsx)("h3",{children:i.name}),Object(f.jsx)("img",{src:i.image.original}),Object(f.jsxs)("div",{className:"show-description-cont",children:[Object(f.jsxs)("p",{children:["Language: ",i.language]}),Object(f.jsxs)("p",{children:["Rating: ",i.rating.average]}),Object(f.jsxs)("p",{children:["Genres: ",i.genres.join(", ")]})]})]}):Object(f.jsx)("div",{className:"show-page"})},T=(n(103),function(e){var t=Object(c.useState)(""),n=Object(u.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)(""),r=Object(u.a)(a,2),l=r[0],b=r[1],h=Object(c.useState)(""),O=Object(u.a)(h,2),m=O[0],x=O[1],g=Object(d.e)(),v=Object(c.useState)(!0),w=Object(u.a)(v,2),k=w[0],S=w[1],L=Object(p.f)();if(e.isLoading)return Object(f.jsx)(y,{});var M=Object(N.b)(),V=function(t,n,c){Object(N.d)(t,n,c).then((function(t){e.setIsLogin(!0),g.push("/profile")})).catch((function(e){switch(e.code){case"auth/invalid-email":alert("INVALID EMAIL");break;case"auth/wrong-password":alert("wrong-password");break;case"auth/user-not-found":alert("user-not-found")}b(""),i(""),console.log("Code: ".concat(e.code,", Message: ").concat(e.Message))}))};return Object(f.jsx)("div",{className:"login",children:k?Object(f.jsxs)("form",{className:"login-form",children:[Object(f.jsx)("h2",{children:"Please type in your credentials to Log In"}),Object(f.jsx)("span",{children:"Username"}),Object(f.jsx)("input",{type:"text",value:s,placeholder:"Your username",onChange:function(e){return i(e.target.value)},required:!0}),Object(f.jsx)("span",{children:"Password"}),Object(f.jsx)("input",{type:"password",value:l,placeholder:"Your password",onChange:function(e){return b(e.target.value)},required:!0}),Object(f.jsx)("button",{type:"button",className:"button",onClick:function(){return V(M,s,l)},children:"LOG IN"}),Object(f.jsxs)("div",{children:["Do not have an account yet? Please click"," ",Object(f.jsx)("span",{className:"span-link",onClick:function(){return S(!1)},children:"here"})," ","to Sign Up!"]})]}):Object(f.jsxs)("form",{className:"login-form",children:[Object(f.jsx)("h2",{children:"Please provide your credentials to register an account"}),Object(f.jsx)("span",{children:"Username"}),Object(f.jsx)("input",{type:"text",value:s,placeholder:"Username",onChange:function(e){return i(e.target.value)},required:!0}),Object(f.jsx)("span",{children:"Password"}),Object(f.jsx)("input",{type:"password",value:l,placeholder:"Password",onChange:function(e){return b(e.target.value)},required:!0}),Object(f.jsx)("span",{children:"Full Name"}),Object(f.jsx)("input",{type:"text",value:m,placeholder:"Full Name",onChange:function(e){return x(e.target.value)},required:!0}),Object(f.jsx)("button",{type:"button",className:"button",onClick:function(){return function(t,n,c){n.includes("@")?c.length<8?alert("error in pass"):Object(N.a)(t,n,c).then((function(c){e.setIsLogin(!0),V(t,s,l),Object(N.e)(c.user,{displayName:m,photoURL:"https://media.istockphoto.com/photos/businessman-silhouette-as-avatar-or-default-profile-picture-picture-id476085198?s=612x612"}).then((function(){console.log(c.user.inputName)})).catch((function(e){console.log(e.code)}));try{Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.h)(Object(p.d)(L,"users",n),{name:m,email:n,id:new Date,favorites:[],friends:[],recs:[],photoURL:"https://media.istockphoto.com/photos/businessman-silhouette-as-avatar-or-default-profile-picture-picture-id476085198?s=612x612"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}catch(i){console.error("Error adding document: ",i)}})).catch((function(e){switch(e.code){case"auth/invalid-email":alert("INVALID EMAIL");break;case"auth/email-already-in-use":alert("email-already-in-use")}b(""),i(""),console.log("Code: ".concat(e.code,", Message: ").concat(e.Message))})):alert("erro in name")}(M,s,l)},children:"Sign Up"}),Object(f.jsxs)("div",{children:["Already have an account? Please click"," ",Object(f.jsx)("span",{className:"span-link",onClick:function(){return S(!0)},children:"here"})," ","to Log in!"]})]})})}),D=(n(104),function(e){var t=Object(g.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(p.f)(),a=Object(v.b)();return Object(g.useEffect)((function(){Object(v.c)(a,(function(e){try{Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(i,"users"));case 2:t.sent.forEach((function(t){if(t.id===e.email){var n=[];t.data().recs.forEach((function(e){return n.push(e)})),s([].concat(n))}}));case 4:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[a,i]),e.isLogin?c.length?Object(f.jsx)("div",{className:"recs",children:c.map((function(e){return Object(f.jsx)("div",{className:"recShow",children:Object(f.jsxs)(b.b,{to:"shows/".concat(e.id),children:[Object(f.jsx)("h4",{children:e.name}),Object(f.jsx)("img",{src:e.image.medium}),Object(f.jsxs)("div",{className:"rec-show-description-cont",children:[Object(f.jsxs)("p",{children:["Time: ",e.averageRuntime]}),Object(f.jsxs)("p",{children:["Genres: ",e.genres.join(", ")]}),Object(f.jsxs)("p",{children:["Rating: ",e.rating.average]}),Object(f.jsxs)("p",{children:["Recommended by: ",e.email]})]})]})},e.id)}))}):Object(f.jsxs)("div",{className:"recs-empty",children:[Object(f.jsx)("h2",{children:"No favorite shows yet. Please visit the SHOWS page to see all shows:"}),Object(f.jsx)(b.b,{to:"/shows",children:Object(f.jsx)("button",{className:"button",onClick:e.setModalVisible(!1),children:"SHOWS"})})]}):Object(f.jsx)(x,{visible:e.isModalVisible,setVisible:e.setModalVisible})}),U=function(e){return Object(f.jsx)("div",{className:"main",children:Object(f.jsxs)("div",{className:"main-cont",children:[Object(f.jsx)(d.a,{exact:!0,path:"/shows",render:function(){return Object(f.jsx)(F,{shows:e.shows,likedShows:e.likedShows,setLikedShows:e.setLikedShows,isModalVisible:e.isModalVisible,setModalVisible:e.setModalVisible,isLogin:e.isLogin,isLoading:e.isLoading,sortMehod:e.sortMehod,setSortMethod:e.setSortMethod,searchQuery:e.searchQuery,setSearchQuery:e.setSearchQuery,selectedFilter:e.selectedFilter,setSelectedFilter:e.setSelectedFilter,genres:e.genres})}}),Object(f.jsx)(d.a,{exact:!0,path:"/shows/:id",render:function(){return Object(f.jsx)(_,{})}}),Object(f.jsx)(d.a,{exact:!0,path:"/people",render:function(){return Object(f.jsx)(k,{peopleList:e.peopleList,isLogin:e.isLogin,isModalVisible:e.isModalVisible,setModalVisible:e.setModalVisible})}}),Object(f.jsx)(d.a,{exact:!0,path:"/friends",render:function(){return Object(f.jsx)(w,{isLogin:e.isLogin,isModalVisible:e.isModalVisible,setModalVisible:e.setModalVisible})}}),Object(f.jsx)(d.a,{exact:!0,path:"/favorites",render:function(){return Object(f.jsx)(S,{removeFromFavorites:e.removeFromFavorites,isLogin:e.isLogin,isModalVisible:e.isModalVisible,setModalVisible:e.setModalVisible})}}),Object(f.jsx)(d.a,{exact:!0,path:"/recommendations",render:function(){return Object(f.jsx)(D,{isLogin:e.isLogin,isModalVisible:e.isModalVisible,setModalVisible:e.setModalVisible})}}),Object(f.jsx)(d.a,{exact:!0,path:"/profile",render:function(){return Object(f.jsx)(L,{setIsLogin:e.setIsLogin,isLogin:e.isLogin,isLoading:e.isLoading})}}),Object(f.jsx)(d.a,{exact:!0,path:"/login",render:function(){return Object(f.jsx)(T,{setIsLogin:e.setIsLogin,isLogin:e.isLogin,isLoading:e.isLoading})}}),Object(f.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(f.jsx)(M,{})}})]})})},Y=(n(105),function(e){var t=function(){e.setModalVisible(!0)};return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)(b.b,{className:"header-link",exact:!0,to:"",children:"HOME"}),Object(f.jsx)(b.b,{className:"header-link",to:"/shows",onClick:function(){e.setModalVisible(!1)},children:"SHOWS"}),Object(f.jsx)(b.b,{className:"header-link",to:"/favorites",onClick:t,children:"FAVORITES"}),Object(f.jsx)(b.b,{className:"header-link",to:"/people",onClick:t,children:"PEOPLE"}),Object(f.jsx)(b.b,{className:"header-link",to:"/friends",onClick:t,children:"FRIENDS"}),Object(f.jsx)(b.b,{className:"header-link",to:"/recommendations",onClick:t,children:"RECOMMENDATIONS"}),e.isLogin?Object(f.jsx)(b.b,{className:"header-link",to:"/profile",children:"PROFILE"}):Object(f.jsx)(b.b,{className:"header-link",to:"/login",children:"LOGIN"})]})}),G=(n(106),function(e){return Object(f.jsx)("footer",{className:"footer",children:"Netflix by Viacheslav Shestunov, 2021 \xa9"})});var H=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)([]),a=Object(u.a)(i,2),r=a[0],d=(a[1],Object(c.useState)([])),h=Object(u.a)(d,2),O=h[0],m=h[1],x=Object(c.useState)([]),g=Object(u.a)(x,2),v=g[0],w=g[1],k=Object(c.useState)(!1),S=Object(u.a)(k,2),y=S[0],L=S[1],M=Object(c.useState)(!0),V=Object(u.a)(M,2),E=V[0],C=V[1],I=Object(c.useState)(!1),R=Object(u.a)(I,2),F=R[0],P=R[1],_=Object(c.useState)(""),T=Object(u.a)(_,2),D=T[0],H=T[1],B=Object(c.useState)(""),Q=Object(u.a)(B,2),q=Q[0],W=Q[1],z=Object(c.useState)(""),K=Object(u.a)(z,2),J=K[0],Z=K[1],X=Object(p.f)(),$=Object(N.b)();Object(c.useEffect)((function(){Object(N.c)($,(function(e){if(e)try{Object(j.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(X,"users"));case 2:n=t.sent,c=[],n.forEach((function(t){t.data().email!==e.email&&c.push({id:t.id,name:t.data().name,email:t.data().email,photo:t.data().photoURL})})),w([].concat(Object(l.a)(v),c));case 6:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}))}),[$]),Object(c.useEffect)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=13;break}return e.prev=1,e.next=4,A.a.get("https://api.tvmaze.com/shows");case 4:t=e.sent,s(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:e.next=14;break;case 13:Object(N.c)($,(function(e){try{Object(j.a)(o.a.mark((function t(){var n,c,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.e)(Object(p.c)(X,"likedshows"));case 2:n=t.sent,c=[],i=[],n.forEach((function(t){c.push(t.data()),t.data().emails.includes(e.email)&&i.push(t.id)})),s([].concat(c)),m([].concat(i));case 8:case"end":return t.stop()}}),t)})))()}catch(t){console.log(t)}}));case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),[X,$]),Object(c.useEffect)((function(){P(!0),setTimeout((function(){P(!1)}),200)}),[y]);var ee=Object(c.useMemo)((function(){return"rating, from-top"===D?Object(l.a)(n).sort((function(e,t){return t.rating.average-e.rating.average})):"rating, from-down"===D?Object(l.a)(n).sort((function(e,t){return e.rating.average-t.rating.average})):"time, from-top"===D?Object(l.a)(n).sort((function(e,t){return t.averageRuntime-e.averageRuntime})):"time, from-down"===D?Object(l.a)(n).sort((function(e,t){return e.averageRuntime-t.averageRuntime})):D?void 0:n}),[n,D]),te=Object(c.useMemo)((function(){return J?ee.filter((function(e){return e.genres.includes(J)})):ee}),[J,ee]),ne=Object(c.useMemo)((function(){return te.filter((function(e){return e.name.toLowerCase().includes(q)}))}),[te,q]);return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(b.a,{children:[Object(f.jsx)(Y,{isLogin:y,setModalVisible:C}),Object(f.jsx)(U,{shows:ne,setLikedShows:m,likedShows:O,peopleList:v,isLogin:y,setIsLogin:L,isModalVisible:E,setModalVisible:C,isLoading:F,sortMehod:D,setSortMethod:H,searchQuery:q,setSearchQuery:W,selectedFilter:J,setSelectedFilter:Z,genres:r}),Object(f.jsx)(G,{})]})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),i(e),a(e)}))},Q=n(61);Object(Q.a)({apiKey:"AIzaSyDsIUJT5EzHnTeAMBYFq1961eKAmLzezSs",authDomain:"nflix-by-vs.firebaseapp.com",projectId:"nflix-by-vs",storageBucket:"nflix-by-vs.appspot.com",messagingSenderId:"553096384035",appId:"1:553096384035:web:f52dade42cbe450180ab96"});a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(H,{})}),document.getElementById("root")),B()},40:function(e,t,n){e.exports={myModal:"modal_myModal__2VhAq",myModalContent:"modal_myModalContent__2yj1T",active:"modal_active__2KiCw"}},41:function(e,t,n){e.exports={myModal:"recmodal_myModal__N6ZKJ",myModalContent:"recmodal_myModalContent__3xv6L",active:"recmodal_active__2-LpD"}},49:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.bd5ba926.chunk.js.map